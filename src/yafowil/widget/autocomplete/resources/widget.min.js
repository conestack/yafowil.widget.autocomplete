!function(t,e){"use strict";class s{static initialize(t){e("div.yafowil-widget-autocomplete",t).each((function(){let t=e(this);new s(t)}))}constructor(t){this.elem=t,this.input=e("input.autocomplete",this).attr("spellcheck",!1),this.ac_params=e(".autocomplete-params",this.elem),this.ac_source=e(".autocomplete-source",this.elem);let i=this.dd=e("<div />").addClass("autocomplete-dropdown");this.elem.append(i),this.params=[],this.currentFocus=0,this.binder(),this.autocomplete=this.autocomplete.bind(this),this.input.on("input",this.autocomplete)}binder(){let t,e,i=this.ac_params.text().split("|"),s=[];for(t=0;t<i.length;t++){let o=i[t].split(","),n=o[1].replace(/^\s+|\s+$/g,"");isNaN(n)||(n=parseInt(n)),"True"===n&&(n=!0),"False"===n&&(n=!1);var a=o[0].replace(/^\s+|\s+$/g,"");"type"===a?e=n:s[a]=n}let o=this.ac_source.text();if(0===o.indexOf("javascript:")){if(o=o.substring(11,o.length),o=o.split("."),!o.length)throw"No source path found.";let e,i=window;for(t in o){if(e=o[t],void 0===i[e])throw"'"+e+"' not found.";i=i[e]}o=i}s.source=o,"local"===e&&(s.source=s.source.split("|")),this.params=s}autocomplete(){console.log(this.params);let t=this.input.val();if(!t)return!1;for(this.currentFocus=-1,a=document.createElement("DIV"),a.setAttribute("id",this.id+"autocomplete-list"),a.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(a),i=0;i<arr.length;i++)arr[i].substr(0,t.length).toUpperCase()==t.toUpperCase()&&(b=document.createElement("DIV"),b.innerHTML="<strong>"+arr[i].substr(0,t.length)+"</strong>",b.innerHTML+=arr[i].substr(t.length),b.innerHTML+="<input type='hidden' value='"+arr[i]+"'>",b.addEventListener("click",(function(t){inp.value=this.getElementsByTagName("input")[0].value,closeAllLists()})),a.appendChild(b))}}e((function(){void 0!==window.ts?ts.ajax.register(s.initialize,!0):void 0!==window.bdajax?bdajax.register(s.initialize,!0):s.initialize()})),t.AutocompleteWidget=s,Object.defineProperty(t,"__esModule",{value:!0}),void 0===window.yafowil&&(window.yafowil={}),window.yafowil.autocomplete=t}({},jQuery);
//# sourceMappingURL=widget.min.js.map
